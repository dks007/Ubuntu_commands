from elasticsearch import Elasticsearch

# Elasticsearch connection details
es_host = '10.88.22.40'  # Host address
es_port = 9200  # Port number

# Credentials for HTTP authentication
es_username = "sstam-user"
es_password = "kGu943TgeCiGyUZPLMls"

# Create an Elasticsearch client with authentication and timeout specified
es = Elasticsearch(
    hosts=[{'host': es_host, 'port': es_port}],
    http_auth=(es_username, es_password),
    timeout=600  # Setting the timeout parameter outside the hosts dictionary
)

# Define a search query
query = {
    "size": 5,
    "query": {
        "match_all": {}
    }
}

# Specify the index you want to search
index_name = "elasticsearchweu:fluentd-common-prod"

# Perform the search query
result = es.search(index=index_name, body=query)

# Process and print the result
print(result)
